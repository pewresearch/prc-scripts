!function(){"use strict";var n={n:function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},d:function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o:function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},r:function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})}},e={};n.r(e),n.d(e,{VERSION:function(){return _},after:function(){return et},all:function(){return Et},allKeys:function(){return Dn},any:function(){return St},assign:function(){return ee},before:function(){return tt},bind:function(){return Fe},bindAll:function(){return We},chain:function(){return He},chunk:function(){return ur},clone:function(){return oe},collect:function(){return vt},compact:function(){return qt},compose:function(){return nt},constant:function(){return yn},contains:function(){return _t},countBy:function(){return Dt},create:function(){return ue},debounce:function(){return Je},default:function(){return cr},defaults:function(){return te},defer:function(){return Ye},delay:function(){return Ge},detect:function(){return pt},difference:function(){return Yt},drop:function(){return Kt},each:function(){return ht},escape:function(){return Me},every:function(){return Et},extend:function(){return ne},extendOwn:function(){return ee},filter:function(){return bt},find:function(){return pt},findIndex:function(){return it},findKey:function(){return ut},findLastIndex:function(){return ct},findWhere:function(){return dt},first:function(){return $t},flatten:function(){return Gt},foldl:function(){return gt},foldr:function(){return yt},forEach:function(){return ht},functions:function(){return Qn},get:function(){return fe},groupBy:function(){return Tt},has:function(){return se},head:function(){return $t},identity:function(){return pe},include:function(){return _t},includes:function(){return _t},indexBy:function(){return Bt},indexOf:function(){return ft},initial:function(){return Ft},inject:function(){return gt},intersection:function(){return Xt},invert:function(){return Jn},invoke:function(){return xt},isArguments:function(){return vn},isArray:function(){return pn},isArrayBuffer:function(){return tn},isBoolean:function(){return q},isDataView:function(){return sn},isDate:function(){return Q},isElement:function(){return G},isEmpty:function(){return On},isEqual:function(){return Bn},isError:function(){return nn},isFinite:function(){return mn},isFunction:function(){return on},isMap:function(){return Kn},isMatch:function(){return Pn},isNaN:function(){return gn},isNull:function(){return K},isNumber:function(){return J},isObject:function(){return $},isRegExp:function(){return X},isSet:function(){return qn},isString:function(){return Z},isSymbol:function(){return en},isTypedArray:function(){return An},isUndefined:function(){return W},isWeakMap:function(){return Wn},isWeakSet:function(){return Gn},iteratee:function(){return ge},keys:function(){return zn},last:function(){return Wt},lastIndexOf:function(){return st},map:function(){return vt},mapObject:function(){return be},matcher:function(){return de},matches:function(){return de},max:function(){return Mt},memoize:function(){return qe},methods:function(){return Qn},min:function(){return zt},mixin:function(){return ir},negate:function(){return Xe},noop:function(){return we},now:function(){return xe},object:function(){return tr},omit:function(){return Ut},once:function(){return rt},pairs:function(){return Zn},partial:function(){return Ue},partition:function(){return Vt},pick:function(){return Nt},pluck:function(){return At},property:function(){return he},propertyOf:function(){return Ee},random:function(){return _e},range:function(){return rr},reduce:function(){return gt},reduceRight:function(){return yt},reject:function(){return wt},rest:function(){return Kt},restArguments:function(){return F},result:function(){return Be},sample:function(){return kt},select:function(){return bt},shuffle:function(){return Ct},size:function(){return Ht},some:function(){return St},sortBy:function(){return It},sortedIndex:function(){return at},tail:function(){return Kt},take:function(){return $t},tap:function(){return ie},template:function(){return Te},templateSettings:function(){return Oe},throttle:function(){return Ze},times:function(){return Se},toArray:function(){return Pt},toPath:function(){return ce},transpose:function(){return nr},unescape:function(){return ze},union:function(){return Qt},uniq:function(){return Jt},unique:function(){return Jt},uniqueId:function(){return Ve},unzip:function(){return nr},values:function(){return Yn},where:function(){return jt},without:function(){return Zt},wrap:function(){return Qe},zip:function(){return er}});var t=window.wp.element,r=window.prcHooks,u=window.wp.i18n,o=window.wp.components,i=window.wp.date,c=window.wp.coreData,a=window.wp.apiFetch,l=n.n(a);function f(n){let{searchRecords:e,onSelect:r,imageSize:u="A3",disableImage:o=!1}=n;return e.map((n=>(0,t.createElement)(p,{item:n,onSelect:r,imageSize:u,disableImage:o})))}function s(n){let{item:e,imageSize:r}=n;const{art:u}=e;if(u&&u[r]){const{rawUrl:n,height:e,width:i,caption:c}=u[r];return(0,t.createElement)(o.CardMedia,null,(0,t.createElement)("img",{src:n,height:e,width:i,alt:c}))}return null}function p(n){let{item:e,onSelect:r,imageSize:u="A3",disableImage:c=!1}=n;if(!e)return null;const a=e.post_title?e.post_title:e.title.rendered,l=e.post_date?e.post_date:e.date,{label:f}=e,p=e.canonical_url;return(0,t.createElement)(o.Card,{onClick:()=>{const n=(n=>{const{post:e,imageSize:t=!1,isRefresh:r=!1}=n;if(console.log("getAttributesFromPost",e),null===e)return{};const u=(0,i.date)("M j, Y",e.date),o={title:e.hasOwnProperty("title")&&e.title.hasOwnProperty("rendered")?e.title.rendered:"",excerpt:e.hasOwnProperty("excerpt")&&e.excerpt.hasOwnProperty("rendered")?e.excerpt.rendered:"",url:e.canonical_url,label:e.hasOwnProperty("label")?e.label:"report",date:u,postId:e.id||e.ID};if(!0!==r&&(o.extra=""),!1!==t&&e.art){const{art:n}=e;o.image=n[t].rawUrl,o.isChartArt=n[t].chartArt}return o})({post:e,imageSize:u,isRefresh:!1});r(n)},size:"small",style:{cursor:"pointer",":hover":{"background-color":"#f3f4f5"}}},(0,t.createElement)(o.CardBody,{style:{display:"flex"}},!c&&(0,t.createElement)("div",{style:{width:"35%",maxWidth:"200px",paddingRight:"1em",paddingTop:"0.5em"}},(0,t.createElement)(s,{item:e,imageSize:u})),(0,t.createElement)("div",null,(0,t.createElement)("div",{style:{fontSize:"0.8em",color:"#666"}},`${f} | ${(0,i.date)("M j, Y",l)}`),(0,t.createElement)("strong",null,a),(0,t.createElement)("div",{style:{fontSize:"0.8em",fontStyle:"italic",color:"#666",lineHeight:"1.5em"}},p))))}function d(n){let{attributes:e,setAttributes:i,disableImage:a=!1,onSelect:s=(()=>{}),onKeyEnter:d=(()=>{}),onKeyESC:h=(()=>{}),onUpdateURL:v=(()=>{})}=n;const{imageSize:m,url:g,postId:y}=e,[b]=(0,c.useEntityProp)("root","site","siteId"),w=1===b?"stub":"post",[E,S]=(0,t.useState)(!!g),[_,x]=(0,t.useState)(g),A=(0,r.useDebounce)(_,500),j=(0,t.useMemo)((()=>!(void 0===A||!A.match(/^(http|https):\/\//))),[A]),[M,z]=(0,t.useState)(null),O=!!A.length,{records:P,isResolving:k}=(0,c.useEntityRecords)("postType",w,{per_page:10,post_parent:0,search:O&&!j?A:"",context:"view"}),C=!(E||j||!P)&&0<P.length,I=!E&&j&&null!==M,R=!E&&!C&&!I;return(0,t.useEffect)((()=>{var n;j&&(S(!0),(n=A,new Promise(((e,t)=>{l()({path:"/prc-api/v2/stub/get-post-by-url",method:"POST",data:{url:n}}).then((n=>{"object"!=typeof n&&t(new Error("post is not an object")),e(n)})).catch((n=>t(n)))}))).then((n=>{z(n),S(!1)})).catch((n=>{console.error("getPostByUrl error",n),z(null),S(!1)})))}),[A,j]),(0,t.useEffect)((()=>{S(k)}),[k]),(0,t.createElement)(o.TabbableContainer,{onNavigate:(n,e)=>console.log("onNavigate:",e)},(0,t.createElement)(o.KeyboardShortcuts,{shortcuts:{esc:()=>{"function"==typeof h&&h()}}},(0,t.createElement)(o.SearchControl,{tabIndex:"0",value:_,onChange:n=>x(n),placeholder:"Climate Change...",autoComplete:"off"})),O&&(0,t.createElement)(t.Fragment,null,E&&(0,t.createElement)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",color:"#666"}},(0,t.createElement)("span",null,"Loading... "),(0,t.createElement)(o.Spinner,null)),R&&(0,t.createElement)("div",{style:{textAlign:"center",color:"#666",paddingTop:"1em"}},(0,t.createElement)("div",{style:{padding:"1em 0"}},(0,t.createElement)("span",null,(0,u.__)("Nothing found.","prc-block-library"))),j&&(0,t.createElement)("span",null,(0,t.createElement)(o.Button,{variant:"secondary",onClick:()=>{v(),i({url:A})}},(0,u.__)("Change the URL","prc-block-library")))),I&&(0,t.createElement)("div",null,(0,t.createElement)(p,{item:M,onSelect:s,imageSize:m,disableImage:a}),(0,t.createElement)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",color:"#666",paddingTop:"1em"}},(0,t.createElement)("span",null,(0,u.__)("Click the item to replace this block's content","prc-block-library")),void 0!==y&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{style:{padding:"1em 0"}},(0,t.createElement)("span",null,(0,u.__)("~ or ~","prc-block-library"))),j&&(0,t.createElement)("span",null,(0,t.createElement)(o.Button,{variant:"secondary",onClick:()=>{v(),i({url:A})}},(0,u.__)("Change the URL","prc-block-library")))))),C&&!j&&(0,t.createElement)(f,{searchRecords:P,onSelect:s,imageSize:m,disableImage:a})))}function h(n){let{level:e,isPressed:r=!1}=n;const u={1:"M9 5h2v10H9v-4H5v4H3V5h2v4h4V5zm6.6 0c-.6.9-1.5 1.7-2.6 2v1h2v7h2V5h-1.4z",2:"M7 5h2v10H7v-4H3v4H1V5h2v4h4V5zm8 8c.5-.4.6-.6 1.1-1.1.4-.4.8-.8 1.2-1.3.3-.4.6-.8.9-1.3.2-.4.3-.8.3-1.3 0-.4-.1-.9-.3-1.3-.2-.4-.4-.7-.8-1-.3-.3-.7-.5-1.2-.6-.5-.2-1-.2-1.5-.2-.4 0-.7 0-1.1.1-.3.1-.7.2-1 .3-.3.1-.6.3-.9.5-.3.2-.6.4-.8.7l1.2 1.2c.3-.3.6-.5 1-.7.4-.2.7-.3 1.2-.3s.9.1 1.3.4c.3.3.5.7.5 1.1 0 .4-.1.8-.4 1.1-.3.5-.6.9-1 1.2-.4.4-1 .9-1.6 1.4-.6.5-1.4 1.1-2.2 1.6V15h8v-2H15z",3:"M12.1 12.2c.4.3.8.5 1.2.7.4.2.9.3 1.4.3.5 0 1-.1 1.4-.3.3-.1.5-.5.5-.8 0-.2 0-.4-.1-.6-.1-.2-.3-.3-.5-.4-.3-.1-.7-.2-1-.3-.5-.1-1-.1-1.5-.1V9.1c.7.1 1.5-.1 2.2-.4.4-.2.6-.5.6-.9 0-.3-.1-.6-.4-.8-.3-.2-.7-.3-1.1-.3-.4 0-.8.1-1.1.3-.4.2-.7.4-1.1.6l-1.2-1.4c.5-.4 1.1-.7 1.6-.9.5-.2 1.2-.3 1.8-.3.5 0 1 .1 1.6.2.4.1.8.3 1.2.5.3.2.6.5.8.8.2.3.3.7.3 1.1 0 .5-.2.9-.5 1.3-.4.4-.9.7-1.5.9v.1c.6.1 1.2.4 1.6.8.4.4.7.9.7 1.5 0 .4-.1.8-.3 1.2-.2.4-.5.7-.9.9-.4.3-.9.4-1.3.5-.5.1-1 .2-1.6.2-.8 0-1.6-.1-2.3-.4-.6-.2-1.1-.6-1.6-1l1.1-1.4zM7 9H3V5H1v10h2v-4h4v4h2V5H7v4z",4:"M9 15H7v-4H3v4H1V5h2v4h4V5h2v10zm10-2h-1v2h-2v-2h-5v-2l4-6h3v6h1v2zm-3-2V7l-2.8 4H16z",5:"M12.1 12.2c.4.3.7.5 1.1.7.4.2.9.3 1.3.3.5 0 1-.1 1.4-.4.4-.3.6-.7.6-1.1 0-.4-.2-.9-.6-1.1-.4-.3-.9-.4-1.4-.4H14c-.1 0-.3 0-.4.1l-.4.1-.5.2-1-.6.3-5h6.4v1.9h-4.3L14 8.8c.2-.1.5-.1.7-.2.2 0 .5-.1.7-.1.5 0 .9.1 1.4.2.4.1.8.3 1.1.6.3.2.6.6.8.9.2.4.3.9.3 1.4 0 .5-.1 1-.3 1.4-.2.4-.5.8-.9 1.1-.4.3-.8.5-1.3.7-.5.2-1 .3-1.5.3-.8 0-1.6-.1-2.3-.4-.6-.2-1.1-.6-1.6-1-.1-.1 1-1.5 1-1.5zM9 15H7v-4H3v4H1V5h2v4h4V5h2v10z",6:"M9 15H7v-4H3v4H1V5h2v4h4V5h2v10zm8.6-7.5c-.2-.2-.5-.4-.8-.5-.6-.2-1.3-.2-1.9 0-.3.1-.6.3-.8.5l-.6.9c-.2.5-.2.9-.2 1.4.4-.3.8-.6 1.2-.8.4-.2.8-.3 1.3-.3.4 0 .8 0 1.2.2.4.1.7.3 1 .6.3.3.5.6.7.9.2.4.3.8.3 1.3s-.1.9-.3 1.4c-.2.4-.5.7-.8 1-.4.3-.8.5-1.2.6-1 .3-2 .3-3 0-.5-.2-1-.5-1.4-.9-.4-.4-.8-.9-1-1.5-.2-.6-.3-1.3-.3-2.1s.1-1.6.4-2.3c.2-.6.6-1.2 1-1.6.4-.4.9-.7 1.4-.9.6-.3 1.1-.4 1.7-.4.7 0 1.4.1 2 .3.5.2 1 .5 1.4.8 0 .1-1.3 1.4-1.3 1.4zm-2.4 5.8c.2 0 .4 0 .6-.1.2 0 .4-.1.5-.2.1-.1.3-.3.4-.5.1-.2.1-.5.1-.7 0-.4-.1-.8-.4-1.1-.3-.2-.7-.3-1.1-.3-.3 0-.7.1-1 .2-.4.2-.7.4-1 .7 0 .3.1.7.3 1 .1.2.3.4.4.6.2.1.3.3.5.3.2.1.5.2.7.1z"};return u.hasOwnProperty(e)?(0,t.createElement)(o.SVG,{width:"24",height:"24",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",isPressed:r},(0,t.createElement)(o.Path,{d:u[e]})):null}var v=window.wp.data,m=window.wp.htmlEntities,g=window.wp.primitives,y=(0,t.createElement)(g.SVG,{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,t.createElement)(g.Path,{d:"M8 7h2V5H8v2zm0 6h2v-2H8v2zm0 6h2v-2H8v2zm6-14v2h2V5h-2zm0 8h2v-2h-2v2zm0 6h2v-2h-2v2z"}));const b={seed(n){return{type:"SEED",items:n}},append(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return{type:"APPEND",items:e}},prepend(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return{type:"PREPEND",items:e}},insert(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return{type:"INSERT",index:n,items:t}},apply(n){return{type:"APPLY",fn:n}},remove(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return{type:"REMOVE",indexes:e}},reorder(n){let{from:e,to:t}=n;return{type:"REORDER",from:e,to:t}},setItem(n,e){return{type:"SET_ITEM",index:n,item:e}},setItemProp(n,e,t){return{type:"SET_ITEM_PROP",index:n,prop:e,value:t}}};var w=b;const E=[];var S=function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,e=arguments.length>1?arguments[1]:void 0;const t=[...n];switch(e.type){case"SEED":return[...e.items];case"APPEND":return[...n,...e.items];case"PREPEND":return[...e.items,...n];case"INSERT":return[...n.slice(0,e.index),...e.items,...n.slice(e.index)];case"APPLY":return n.map(((n,t)=>e.fn(n,t)));case"REMOVE":return n.filter(((n,t)=>!e.indexes.includes(t)));case"REORDER":const r=n[e.from];return t.splice(e.from,1),t.splice(e.to,0,r),t;case"SET_ITEM":return t[e.index]=e.item,t;case"SET_ITEM_PROP":return t[e.index]={...t[e.index],[e.prop]:e.value},t}return n};var _="1.13.6",x="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},A=Array.prototype,j=Object.prototype,M="undefined"!=typeof Symbol?Symbol.prototype:null,z=A.push,O=A.slice,P=j.toString,k=j.hasOwnProperty,C="undefined"!=typeof ArrayBuffer,I="undefined"!=typeof DataView,R=Array.isArray,T=Object.keys,B=Object.create,D=C&&ArrayBuffer.isView,V=isNaN,H=isFinite,L=!{toString:null}.propertyIsEnumerable("toString"),N=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],U=Math.pow(2,53)-1;function F(n,e){return e=null==e?n.length-1:+e,function(){for(var t=Math.max(arguments.length-e,0),r=Array(t),u=0;u<t;u++)r[u]=arguments[u+e];switch(e){case 0:return n.call(this,r);case 1:return n.call(this,arguments[0],r);case 2:return n.call(this,arguments[0],arguments[1],r)}var o=Array(e+1);for(u=0;u<e;u++)o[u]=arguments[u];return o[e]=r,n.apply(this,o)}}function $(n){var e=typeof n;return"function"===e||"object"===e&&!!n}function K(n){return null===n}function W(n){return void 0===n}function q(n){return!0===n||!1===n||"[object Boolean]"===P.call(n)}function G(n){return!(!n||1!==n.nodeType)}function Y(n){var e="[object "+n+"]";return function(n){return P.call(n)===e}}var Z=Y("String"),J=Y("Number"),Q=Y("Date"),X=Y("RegExp"),nn=Y("Error"),en=Y("Symbol"),tn=Y("ArrayBuffer"),rn=Y("Function"),un=x.document&&x.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof un&&(rn=function(n){return"function"==typeof n||!1});var on=rn,cn=Y("Object"),an=I&&cn(new DataView(new ArrayBuffer(8))),ln="undefined"!=typeof Map&&cn(new Map),fn=Y("DataView"),sn=an?function(n){return null!=n&&on(n.getInt8)&&tn(n.buffer)}:fn,pn=R||Y("Array");function dn(n,e){return null!=n&&k.call(n,e)}var hn=Y("Arguments");!function(){hn(arguments)||(hn=function(n){return dn(n,"callee")})}();var vn=hn;function mn(n){return!en(n)&&H(n)&&!isNaN(parseFloat(n))}function gn(n){return J(n)&&V(n)}function yn(n){return function(){return n}}function bn(n){return function(e){var t=n(e);return"number"==typeof t&&t>=0&&t<=U}}function wn(n){return function(e){return null==e?void 0:e[n]}}var En=wn("byteLength"),Sn=bn(En),xn=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,An=C?function(n){return D?D(n)&&!sn(n):Sn(n)&&xn.test(P.call(n))}:yn(!1),jn=wn("length");function Mn(n,e){e=function(n){for(var e={},t=n.length,r=0;r<t;++r)e[n[r]]=!0;return{contains:function(n){return!0===e[n]},push:function(t){return e[t]=!0,n.push(t)}}}(e);var t=N.length,r=n.constructor,u=on(r)&&r.prototype||j,o="constructor";for(dn(n,o)&&!e.contains(o)&&e.push(o);t--;)(o=N[t])in n&&n[o]!==u[o]&&!e.contains(o)&&e.push(o)}function zn(n){if(!$(n))return[];if(T)return T(n);var e=[];for(var t in n)dn(n,t)&&e.push(t);return L&&Mn(n,e),e}function On(n){if(null==n)return!0;var e=jn(n);return"number"==typeof e&&(pn(n)||Z(n)||vn(n))?0===e:0===jn(zn(n))}function Pn(n,e){var t=zn(e),r=t.length;if(null==n)return!r;for(var u=Object(n),o=0;o<r;o++){var i=t[o];if(e[i]!==u[i]||!(i in u))return!1}return!0}function kn(n){return n instanceof kn?n:this instanceof kn?void(this._wrapped=n):new kn(n)}function Cn(n){return new Uint8Array(n.buffer||n,n.byteOffset||0,En(n))}kn.VERSION=_,kn.prototype.value=function(){return this._wrapped},kn.prototype.valueOf=kn.prototype.toJSON=kn.prototype.value,kn.prototype.toString=function(){return String(this._wrapped)};var In="[object DataView]";function Rn(n,e,t,r){if(n===e)return 0!==n||1/n==1/e;if(null==n||null==e)return!1;if(n!=n)return e!=e;var u=typeof n;return("function"===u||"object"===u||"object"==typeof e)&&Tn(n,e,t,r)}function Tn(n,e,t,r){n instanceof kn&&(n=n._wrapped),e instanceof kn&&(e=e._wrapped);var u=P.call(n);if(u!==P.call(e))return!1;if(an&&"[object Object]"==u&&sn(n)){if(!sn(e))return!1;u=In}switch(u){case"[object RegExp]":case"[object String]":return""+n==""+e;case"[object Number]":return+n!=+n?+e!=+e:0==+n?1/+n==1/e:+n==+e;case"[object Date]":case"[object Boolean]":return+n==+e;case"[object Symbol]":return M.valueOf.call(n)===M.valueOf.call(e);case"[object ArrayBuffer]":case In:return Tn(Cn(n),Cn(e),t,r)}var o="[object Array]"===u;if(!o&&An(n)){if(En(n)!==En(e))return!1;if(n.buffer===e.buffer&&n.byteOffset===e.byteOffset)return!0;o=!0}if(!o){if("object"!=typeof n||"object"!=typeof e)return!1;var i=n.constructor,c=e.constructor;if(i!==c&&!(on(i)&&i instanceof i&&on(c)&&c instanceof c)&&"constructor"in n&&"constructor"in e)return!1}r=r||[];for(var a=(t=t||[]).length;a--;)if(t[a]===n)return r[a]===e;if(t.push(n),r.push(e),o){if((a=n.length)!==e.length)return!1;for(;a--;)if(!Rn(n[a],e[a],t,r))return!1}else{var l,f=zn(n);if(a=f.length,zn(e).length!==a)return!1;for(;a--;)if(!dn(e,l=f[a])||!Rn(n[l],e[l],t,r))return!1}return t.pop(),r.pop(),!0}function Bn(n,e){return Rn(n,e)}function Dn(n){if(!$(n))return[];var e=[];for(var t in n)e.push(t);return L&&Mn(n,e),e}function Vn(n){var e=jn(n);return function(t){if(null==t)return!1;var r=Dn(t);if(jn(r))return!1;for(var u=0;u<e;u++)if(!on(t[n[u]]))return!1;return n!==Fn||!on(t[Hn])}}var Hn="forEach",Ln=["clear","delete"],Nn=["get","has","set"],Un=Ln.concat(Hn,Nn),Fn=Ln.concat(Nn),$n=["add"].concat(Ln,Hn,"has"),Kn=ln?Vn(Un):Y("Map"),Wn=ln?Vn(Fn):Y("WeakMap"),qn=ln?Vn($n):Y("Set"),Gn=Y("WeakSet");function Yn(n){for(var e=zn(n),t=e.length,r=Array(t),u=0;u<t;u++)r[u]=n[e[u]];return r}function Zn(n){for(var e=zn(n),t=e.length,r=Array(t),u=0;u<t;u++)r[u]=[e[u],n[e[u]]];return r}function Jn(n){for(var e={},t=zn(n),r=0,u=t.length;r<u;r++)e[n[t[r]]]=t[r];return e}function Qn(n){var e=[];for(var t in n)on(n[t])&&e.push(t);return e.sort()}function Xn(n,e){return function(t){var r=arguments.length;if(e&&(t=Object(t)),r<2||null==t)return t;for(var u=1;u<r;u++)for(var o=arguments[u],i=n(o),c=i.length,a=0;a<c;a++){var l=i[a];e&&void 0!==t[l]||(t[l]=o[l])}return t}}var ne=Xn(Dn),ee=Xn(zn),te=Xn(Dn,!0);function re(n){if(!$(n))return{};if(B)return B(n);var e=function(){};e.prototype=n;var t=new e;return e.prototype=null,t}function ue(n,e){var t=re(n);return e&&ee(t,e),t}function oe(n){return $(n)?pn(n)?n.slice():ne({},n):n}function ie(n,e){return e(n),n}function ce(n){return pn(n)?n:[n]}function ae(n){return kn.toPath(n)}function le(n,e){for(var t=e.length,r=0;r<t;r++){if(null==n)return;n=n[e[r]]}return t?n:void 0}function fe(n,e,t){var r=le(n,ae(e));return W(r)?t:r}function se(n,e){for(var t=(e=ae(e)).length,r=0;r<t;r++){var u=e[r];if(!dn(n,u))return!1;n=n[u]}return!!t}function pe(n){return n}function de(n){return n=ee({},n),function(e){return Pn(e,n)}}function he(n){return n=ae(n),function(e){return le(e,n)}}function ve(n,e,t){if(void 0===e)return n;switch(null==t?3:t){case 1:return function(t){return n.call(e,t)};case 3:return function(t,r,u){return n.call(e,t,r,u)};case 4:return function(t,r,u,o){return n.call(e,t,r,u,o)}}return function(){return n.apply(e,arguments)}}function me(n,e,t){return null==n?pe:on(n)?ve(n,e,t):$(n)&&!pn(n)?de(n):he(n)}function ge(n,e){return me(n,e,1/0)}function ye(n,e,t){return kn.iteratee!==ge?kn.iteratee(n,e):me(n,e,t)}function be(n,e,t){e=ye(e,t);for(var r=zn(n),u=r.length,o={},i=0;i<u;i++){var c=r[i];o[c]=e(n[c],c,n)}return o}function we(){}function Ee(n){return null==n?we:function(e){return fe(n,e)}}function Se(n,e,t){var r=Array(Math.max(0,n));e=ve(e,t,1);for(var u=0;u<n;u++)r[u]=e(u);return r}function _e(n,e){return null==e&&(e=n,n=0),n+Math.floor(Math.random()*(e-n+1))}kn.toPath=ce,kn.iteratee=ge;var xe=Date.now||function(){return(new Date).getTime()};function Ae(n){var e=function(e){return n[e]},t="(?:"+zn(n).join("|")+")",r=RegExp(t),u=RegExp(t,"g");return function(n){return n=null==n?"":""+n,r.test(n)?n.replace(u,e):n}}var je={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Me=Ae(je),ze=Ae(Jn(je)),Oe=kn.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Pe=/(.)^/,ke={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Ce=/\\|'|\r|\n|\u2028|\u2029/g;function Ie(n){return"\\"+ke[n]}var Re=/^\s*(\w|\$)+\s*$/;function Te(n,e,t){!e&&t&&(e=t),e=te({},e,kn.templateSettings);var r=RegExp([(e.escape||Pe).source,(e.interpolate||Pe).source,(e.evaluate||Pe).source].join("|")+"|$","g"),u=0,o="__p+='";n.replace(r,(function(e,t,r,i,c){return o+=n.slice(u,c).replace(Ce,Ie),u=c+e.length,t?o+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":i&&(o+="';\n"+i+"\n__p+='"),e})),o+="';\n";var i,c=e.variable;if(c){if(!Re.test(c))throw new Error("variable is not a bare identifier: "+c)}else o="with(obj||{}){\n"+o+"}\n",c="obj";o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{i=new Function(c,"_",o)}catch(n){throw n.source=o,n}var a=function(n){return i.call(this,n,kn)};return a.source="function("+c+"){\n"+o+"}",a}function Be(n,e,t){var r=(e=ae(e)).length;if(!r)return on(t)?t.call(n):t;for(var u=0;u<r;u++){var o=null==n?void 0:n[e[u]];void 0===o&&(o=t,u=r),n=on(o)?o.call(n):o}return n}var De=0;function Ve(n){var e=++De+"";return n?n+e:e}function He(n){var e=kn(n);return e._chain=!0,e}function Le(n,e,t,r,u){if(!(r instanceof e))return n.apply(t,u);var o=re(n.prototype),i=n.apply(o,u);return $(i)?i:o}var Ne=F((function(n,e){var t=Ne.placeholder,r=function(){for(var u=0,o=e.length,i=Array(o),c=0;c<o;c++)i[c]=e[c]===t?arguments[u++]:e[c];for(;u<arguments.length;)i.push(arguments[u++]);return Le(n,r,this,this,i)};return r}));Ne.placeholder=kn;var Ue=Ne,Fe=F((function(n,e,t){if(!on(n))throw new TypeError("Bind must be called on a function");var r=F((function(u){return Le(n,r,e,this,t.concat(u))}));return r})),$e=bn(jn);function Ke(n,e,t,r){if(r=r||[],e||0===e){if(e<=0)return r.concat(n)}else e=1/0;for(var u=r.length,o=0,i=jn(n);o<i;o++){var c=n[o];if($e(c)&&(pn(c)||vn(c)))if(e>1)Ke(c,e-1,t,r),u=r.length;else for(var a=0,l=c.length;a<l;)r[u++]=c[a++];else t||(r[u++]=c)}return r}var We=F((function(n,e){var t=(e=Ke(e,!1,!1)).length;if(t<1)throw new Error("bindAll must be passed function names");for(;t--;){var r=e[t];n[r]=Fe(n[r],n)}return n}));function qe(n,e){var t=function(r){var u=t.cache,o=""+(e?e.apply(this,arguments):r);return dn(u,o)||(u[o]=n.apply(this,arguments)),u[o]};return t.cache={},t}var Ge=F((function(n,e,t){return setTimeout((function(){return n.apply(null,t)}),e)})),Ye=Ue(Ge,kn,1);function Ze(n,e,t){var r,u,o,i,c=0;t||(t={});var a=function(){c=!1===t.leading?0:xe(),r=null,i=n.apply(u,o),r||(u=o=null)},l=function(){var l=xe();c||!1!==t.leading||(c=l);var f=e-(l-c);return u=this,o=arguments,f<=0||f>e?(r&&(clearTimeout(r),r=null),c=l,i=n.apply(u,o),r||(u=o=null)):r||!1===t.trailing||(r=setTimeout(a,f)),i};return l.cancel=function(){clearTimeout(r),c=0,r=u=o=null},l}function Je(n,e,t){var r,u,o,i,c,a=function(){var l=xe()-u;e>l?r=setTimeout(a,e-l):(r=null,t||(i=n.apply(c,o)),r||(o=c=null))},l=F((function(l){return c=this,o=l,u=xe(),r||(r=setTimeout(a,e),t&&(i=n.apply(c,o))),i}));return l.cancel=function(){clearTimeout(r),r=o=c=null},l}function Qe(n,e){return Ue(e,n)}function Xe(n){return function(){return!n.apply(this,arguments)}}function nt(){var n=arguments,e=n.length-1;return function(){for(var t=e,r=n[e].apply(this,arguments);t--;)r=n[t].call(this,r);return r}}function et(n,e){return function(){if(--n<1)return e.apply(this,arguments)}}function tt(n,e){var t;return function(){return--n>0&&(t=e.apply(this,arguments)),n<=1&&(e=null),t}}var rt=Ue(tt,2);function ut(n,e,t){e=ye(e,t);for(var r,u=zn(n),o=0,i=u.length;o<i;o++)if(e(n[r=u[o]],r,n))return r}function ot(n){return function(e,t,r){t=ye(t,r);for(var u=jn(e),o=n>0?0:u-1;o>=0&&o<u;o+=n)if(t(e[o],o,e))return o;return-1}}var it=ot(1),ct=ot(-1);function at(n,e,t,r){for(var u=(t=ye(t,r,1))(e),o=0,i=jn(n);o<i;){var c=Math.floor((o+i)/2);t(n[c])<u?o=c+1:i=c}return o}function lt(n,e,t){return function(r,u,o){var i=0,c=jn(r);if("number"==typeof o)n>0?i=o>=0?o:Math.max(o+c,i):c=o>=0?Math.min(o+1,c):o+c+1;else if(t&&o&&c)return r[o=t(r,u)]===u?o:-1;if(u!=u)return(o=e(O.call(r,i,c),gn))>=0?o+i:-1;for(o=n>0?i:c-1;o>=0&&o<c;o+=n)if(r[o]===u)return o;return-1}}var ft=lt(1,it,at),st=lt(-1,ct);function pt(n,e,t){var r=($e(n)?it:ut)(n,e,t);if(void 0!==r&&-1!==r)return n[r]}function dt(n,e){return pt(n,de(e))}function ht(n,e,t){var r,u;if(e=ve(e,t),$e(n))for(r=0,u=n.length;r<u;r++)e(n[r],r,n);else{var o=zn(n);for(r=0,u=o.length;r<u;r++)e(n[o[r]],o[r],n)}return n}function vt(n,e,t){e=ye(e,t);for(var r=!$e(n)&&zn(n),u=(r||n).length,o=Array(u),i=0;i<u;i++){var c=r?r[i]:i;o[i]=e(n[c],c,n)}return o}function mt(n){var e=function(e,t,r,u){var o=!$e(e)&&zn(e),i=(o||e).length,c=n>0?0:i-1;for(u||(r=e[o?o[c]:c],c+=n);c>=0&&c<i;c+=n){var a=o?o[c]:c;r=t(r,e[a],a,e)}return r};return function(n,t,r,u){var o=arguments.length>=3;return e(n,ve(t,u,4),r,o)}}var gt=mt(1),yt=mt(-1);function bt(n,e,t){var r=[];return e=ye(e,t),ht(n,(function(n,t,u){e(n,t,u)&&r.push(n)})),r}function wt(n,e,t){return bt(n,Xe(ye(e)),t)}function Et(n,e,t){e=ye(e,t);for(var r=!$e(n)&&zn(n),u=(r||n).length,o=0;o<u;o++){var i=r?r[o]:o;if(!e(n[i],i,n))return!1}return!0}function St(n,e,t){e=ye(e,t);for(var r=!$e(n)&&zn(n),u=(r||n).length,o=0;o<u;o++){var i=r?r[o]:o;if(e(n[i],i,n))return!0}return!1}function _t(n,e,t,r){return $e(n)||(n=Yn(n)),("number"!=typeof t||r)&&(t=0),ft(n,e,t)>=0}var xt=F((function(n,e,t){var r,u;return on(e)?u=e:(e=ae(e),r=e.slice(0,-1),e=e[e.length-1]),vt(n,(function(n){var o=u;if(!o){if(r&&r.length&&(n=le(n,r)),null==n)return;o=n[e]}return null==o?o:o.apply(n,t)}))}));function At(n,e){return vt(n,he(e))}function jt(n,e){return bt(n,de(e))}function Mt(n,e,t){var r,u,o=-1/0,i=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof n[0]&&null!=n)for(var c=0,a=(n=$e(n)?n:Yn(n)).length;c<a;c++)null!=(r=n[c])&&r>o&&(o=r);else e=ye(e,t),ht(n,(function(n,t,r){((u=e(n,t,r))>i||u===-1/0&&o===-1/0)&&(o=n,i=u)}));return o}function zt(n,e,t){var r,u,o=1/0,i=1/0;if(null==e||"number"==typeof e&&"object"!=typeof n[0]&&null!=n)for(var c=0,a=(n=$e(n)?n:Yn(n)).length;c<a;c++)null!=(r=n[c])&&r<o&&(o=r);else e=ye(e,t),ht(n,(function(n,t,r){((u=e(n,t,r))<i||u===1/0&&o===1/0)&&(o=n,i=u)}));return o}var Ot=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Pt(n){return n?pn(n)?O.call(n):Z(n)?n.match(Ot):$e(n)?vt(n,pe):Yn(n):[]}function kt(n,e,t){if(null==e||t)return $e(n)||(n=Yn(n)),n[_e(n.length-1)];var r=Pt(n),u=jn(r);e=Math.max(Math.min(e,u),0);for(var o=u-1,i=0;i<e;i++){var c=_e(i,o),a=r[i];r[i]=r[c],r[c]=a}return r.slice(0,e)}function Ct(n){return kt(n,1/0)}function It(n,e,t){var r=0;return e=ye(e,t),At(vt(n,(function(n,t,u){return{value:n,index:r++,criteria:e(n,t,u)}})).sort((function(n,e){var t=n.criteria,r=e.criteria;if(t!==r){if(t>r||void 0===t)return 1;if(t<r||void 0===r)return-1}return n.index-e.index})),"value")}function Rt(n,e){return function(t,r,u){var o=e?[[],[]]:{};return r=ye(r,u),ht(t,(function(e,u){var i=r(e,u,t);n(o,e,i)})),o}}var Tt=Rt((function(n,e,t){dn(n,t)?n[t].push(e):n[t]=[e]})),Bt=Rt((function(n,e,t){n[t]=e})),Dt=Rt((function(n,e,t){dn(n,t)?n[t]++:n[t]=1})),Vt=Rt((function(n,e,t){n[t?0:1].push(e)}),!0);function Ht(n){return null==n?0:$e(n)?n.length:zn(n).length}function Lt(n,e,t){return e in t}var Nt=F((function(n,e){var t={},r=e[0];if(null==n)return t;on(r)?(e.length>1&&(r=ve(r,e[1])),e=Dn(n)):(r=Lt,e=Ke(e,!1,!1),n=Object(n));for(var u=0,o=e.length;u<o;u++){var i=e[u],c=n[i];r(c,i,n)&&(t[i]=c)}return t})),Ut=F((function(n,e){var t,r=e[0];return on(r)?(r=Xe(r),e.length>1&&(t=e[1])):(e=vt(Ke(e,!1,!1),String),r=function(n,t){return!_t(e,t)}),Nt(n,r,t)}));function Ft(n,e,t){return O.call(n,0,Math.max(0,n.length-(null==e||t?1:e)))}function $t(n,e,t){return null==n||n.length<1?null==e||t?void 0:[]:null==e||t?n[0]:Ft(n,n.length-e)}function Kt(n,e,t){return O.call(n,null==e||t?1:e)}function Wt(n,e,t){return null==n||n.length<1?null==e||t?void 0:[]:null==e||t?n[n.length-1]:Kt(n,Math.max(0,n.length-e))}function qt(n){return bt(n,Boolean)}function Gt(n,e){return Ke(n,e,!1)}var Yt=F((function(n,e){return e=Ke(e,!0,!0),bt(n,(function(n){return!_t(e,n)}))})),Zt=F((function(n,e){return Yt(n,e)}));function Jt(n,e,t,r){q(e)||(r=t,t=e,e=!1),null!=t&&(t=ye(t,r));for(var u=[],o=[],i=0,c=jn(n);i<c;i++){var a=n[i],l=t?t(a,i,n):a;e&&!t?(i&&o===l||u.push(a),o=l):t?_t(o,l)||(o.push(l),u.push(a)):_t(u,a)||u.push(a)}return u}var Qt=F((function(n){return Jt(Ke(n,!0,!0))}));function Xt(n){for(var e=[],t=arguments.length,r=0,u=jn(n);r<u;r++){var o=n[r];if(!_t(e,o)){var i;for(i=1;i<t&&_t(arguments[i],o);i++);i===t&&e.push(o)}}return e}function nr(n){for(var e=n&&Mt(n,jn).length||0,t=Array(e),r=0;r<e;r++)t[r]=At(n,r);return t}var er=F(nr);function tr(n,e){for(var t={},r=0,u=jn(n);r<u;r++)e?t[n[r]]=e[r]:t[n[r][0]]=n[r][1];return t}function rr(n,e,t){null==e&&(e=n||0,n=0),t||(t=e<n?-1:1);for(var r=Math.max(Math.ceil((e-n)/t),0),u=Array(r),o=0;o<r;o++,n+=t)u[o]=n;return u}function ur(n,e){if(null==e||e<1)return[];for(var t=[],r=0,u=n.length;r<u;)t.push(O.call(n,r,r+=e));return t}function or(n,e){return n._chain?kn(e).chain():e}function ir(n){return ht(Qn(n),(function(e){var t=kn[e]=n[e];kn.prototype[e]=function(){var n=[this._wrapped];return z.apply(n,arguments),or(this,t.apply(kn,n))}})),kn}ht(["pop","push","reverse","shift","sort","splice","unshift"],(function(n){var e=A[n];kn.prototype[n]=function(){var t=this._wrapped;return null!=t&&(e.apply(t,arguments),"shift"!==n&&"splice"!==n||0!==t.length||delete t[0]),or(this,t)}})),ht(["concat","join","slice"],(function(n){var e=A[n];kn.prototype[n]=function(){var n=this._wrapped;return null!=n&&(n=e.apply(n,arguments)),or(this,n)}}));var cr=kn,ar=ir(e);ar._=ar;var lr=window.wp.blockEditor,fr=window.wp.mediaUtils;const sr="full";function pr(n,e){window.prcComponents[n]||(window.prcComponents[n]=e)}window.prcComponents={},pr("URLSearchField",d),pr("URLSearchToolbar",(function(n){let{attributes:e,setAttributes:r,onSelect:i=(()=>{})}=n;const[a]=(0,c.useEntityProp)("root","site","siteId"),l=1===a?"stub":"post",[f,s]=(0,t.useState)(!1);return(0,t.createElement)(o.ToolbarGroup,null,(0,t.createElement)(o.ToolbarButton,{"aria-expanded":f,"aria-haspopup":"true",label:(0,u.__)(`Search for a ${l} or paste url here`,"prc-block-library"),icon:"admin-links",onClick:()=>s(!0),showTooltip:!0}),!0===f&&(0,t.createElement)(o.Modal,{title:(0,u.__)(`Search for a ${l} or paste url here`,"prc-block-library"),onRequestClose:()=>s(!1),shouldCloseOnClickOutside:!1,shouldCloseOnEsc:!1},(0,t.createElement)("div",{style:{width:"100%",minWidth:"340px",maxWidth:"640px",margin:"0 auto"}},(0,t.createElement)(d,{attributes:e,setAttributes:r,onSelect:n=>{i(n),s(!1)},onKeyEnter:()=>s(!1),onKeyESC:()=>s(!1),onUpdateURL:()=>{s(!1)}}))))})),pr("HeadingLevelToolbar",(function(n){let{selectedLevel:e,levels:r=[2,3],onChange:i,Icon:c=h}=n;console.log("HeadingLevelToolbar",e);const a=(0,t.useCallback)((()=>(0,t.createElement)(c,{level:e,isPressed:!0})),[e]);return(0,t.createElement)(o.ToolbarGroup,null,(0,t.createElement)(o.ToolbarDropdownMenu,{icon:a,label:"Select Heading Size",controls:r.map((n=>{const r=n===e;return{title:(0,u.sprintf)(
// translators: %s: heading level e.g: "1", "2", "3"
(0,u.__)("Heading %d"),n),icon:(0,t.createElement)(c,{level:n,isPressed:r}),isActive:r,onClick:()=>i(n)}}))}))})),pr("registerListStore",(function(n){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!1!==e&&!1!==t||console.warn("registerListStore requires at least one resolver and one selector","resolvers:",e,"selectors",t);const r=(0,v.createReduxStore)(n,{reducer:S,actions:w,selectors:t,controls:{},resolvers:e});console.log("Registering custom Redux store...",n),(0,v.register)(r)})),pr("ListStoreItem",(function(n){let{label:e,icon:r=!1,defaultLabel:u,keyValue:i,onRemove:c=!1,index:a,children:l,storeName:f="report",lastItem:s=!1}=n;const{remove:p}=(0,v.useDispatch)(`prc/${f}`),[d,h]=(0,t.useState)(void 0!==e?e:u);return(0,t.useEffect)((()=>{console.log("getPostTitleByKey",e,u,i,a,f),void 0===e&&void 0!==i&&(n=>{const{api:e}=window.wp,t=new e.models.Post({id:n});null===n?h(u):t.fetch().then((n=>{console.log(n),h(`${(0,m.decodeEntities)(n.title.rendered)} (${n.id})`)}))})(i)}),[i]),(0,t.createElement)("div",{style:{background:"white",paddingBottom:"1em",marginBottom:"1em",borderBottom:s?"none":"1px solid #EAEAEA"}},(0,t.createElement)("div",{style:{display:"flex",flexDirection:"row",width:"100%",alignItems:"center"}},(0,t.createElement)("div",{style:{display:"flex"}},(0,t.createElement)(o.Icon,{icon:y})),(0,t.createElement)("div",{style:{display:"flex",flexGrow:"1",paddingLeft:"1em"}},!1!==r&&{icon:r},(0,t.createElement)("span",null,d)),(0,t.createElement)("div",{style:{display:"flex"}},(0,t.createElement)(o.IconButton,{icon:"no-alt",onClick:()=>{!1!==c&&"function"==typeof c&&c(),p(a)}}))),l)})),pr("listStoreActions",w),pr("listStoreReducer",S),pr("MediaDropZone",(function(n){let{attachmentId:e=!1,onUpdate:r=(n=>{console.warn("Media DropZone Attachment, use onUpdate prop when using <MediaDropZone/>: ",n)}),onClear:i=!1,mediaType:c=["image"],mediaSize:a=sr,label:l=null,singularLabel:f=(0,u.__)("image")}=n;const s=(0,u.__)(`Drop an ${f} here, or click to replace.`,"prc-block-library"),p=null!==l?l:`Set ${f}`,[d,h]=(0,t.useState)(e),[m,g]=(0,t.useState)(!1),{media:y,src:b,width:w,height:E,type:S}=(0,v.useSelect)((n=>{const e=!!d&&n("core").getMedia(d);if(console.warn("get M media",e),void 0===e||!1===e)return{media:!1,src:!1,width:!1,height:!1,type:void 0===e&&"not-found"};let t=!1,r=!1,u=!1;if(se(e,["media_details","sizes",a]))r=e.media_details.sizes[a].width,u=e.media_details.sizes[a].height,t=e.media_details.sizes[a].source_url;else{const n=sr;se(e,["media_details","sizes",n])?(r=e.media_details.sizes[n].width,u=e.media_details.sizes[n].height,t=e.media_details.sizes[n].source_url):(r=e.media_details.width,u=e.media_details.height,t=e.source_url)}return{media:e,src:t,width:r,height:u,type:!1!==e&&e.type}}),[d]),_=n=>{n.id!==d&&(h(n.id),r(n)),g(!1)},x=n=>{(0,fr.uploadMedia)({allowedTypes:c,filesList:n,onFileChange(n){let[e]=n;e.id?(e.sizes=e.media_details.sizes,_(e)):g(!0)},onError(n){console.error(n)}})},A=!1!==d&&!1!==y&&!1!==b&&!1===m,j=!1!==S;return(0,t.createElement)(lr.MediaUploadCheck,{fallback:s},(0,t.createElement)(lr.MediaUpload,{title:(0,u.__)(`${f} Upload`,"prc-block-library"),onSelect:_,allowedTypes:c,value:d,render:n=>{let{open:e}=n;return(0,t.createElement)("div",null,A&&(0,t.createElement)("button",{type:"button",onClick:e,style:{cursor:"pointer",background:"none",border:"none"}},(0,t.createElement)("img",{alt:s,src:b,width:`${w}px`,height:`${E}px`})),(!1!==d&&!1===y||m)&&(0,t.createElement)(o.Button,{variant:"secondary",isBusy:!0,onClick:e},(0,u.__)(" Loading...")),!1!==i&&j&&(0,t.createElement)(o.Button,{variant:"link",isSmall:!0,onClick:()=>{"function"==typeof i&&i(),h(!1)}},"Clear ",f),!1===d&&(0,t.createElement)(o.Button,{variant:"secondary",onClick:e},p),(0,t.createElement)(o.DropZone,{onFilesDrop:x}))}}))})),console.log("Loading @prc/components...",window.prcComponents)}();
//# sourceMappingURL=index.js.map